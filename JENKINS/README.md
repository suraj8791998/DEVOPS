# JENKINS
THIS IS FOR MASTER-SLAVE CONFIGURATION


# Install Jenkins on the Master:
SSH into the Jenkins master instance and install Jenkins. You can use the following commands to install Jenkins on Ubuntu:
  
  sudo apt update
  
  sudo apt install openjdk-8-jdk -y
  
  wget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -
  
  sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'

  sudo apt update
  
  sudo apt install jenkins -y

  sudo systemctl start jenkins
  
  sudo systemctl enable jenkins

  You can access the Jenkins web interface by navigating to http://your-master-instance-public-ip:8080 in a web browser. Follow the setup wizard to complete the Jenkins installation

# Install Java on Slave Instances:
sudo apt update

sudo apt install openjdk-8-jdk -y

# Set up SSH Key Authentication:
Since you didn't create a key pair when launching the EC2 instances, you'll need to create an SSH key pair and distribute the public key to the slave instances for passwordless authentication.

a. On the Jenkins master instance, generate an SSH key pair:

ssh-keygen
This will generate a private key (usually ~/.ssh/id_rsa) and a public key (usually ~/.ssh/id_rsa.pub).

b. Copy the public key to each Jenkins slave instance:

ssh-copy-id ubuntu@slave-instance-ip
Replace ubuntu with the appropriate username if you're using a different AMI, and replace slave-instance-ip with the public IP or DNS of the slave instance. You'll be prompted to enter the password for the user on the slave instance.

# Configure Jenkins for Master-Slave Communication:

In the Jenkins web interface:

a. Install the "SSH Agent" plugin on the master. This plugin allows Jenkins to connect to the slaves via SSH.

b. Configure the Jenkins master to use the SSH key you generated in step 4. Go to "Manage Jenkins" -> "Manage Credentials" and add your SSH private key as a "Secret Text" credential.

c. Create a new Jenkins node for each slave under "Manage Jenkins" -> "Manage Nodes and Clouds" -> "New Node."

Set the name of the node.
Choose "Permanent Agent."
Set the number of executors (usually 1 per slave).
Specify the remote root directory.
Select the appropriate labels.
Under "Launch method," choose "Launch slave agents via SSH."
Enter the slave's SSH credentials (use the credential you added in step 5b).
d. Save the node configuration.

# Start the Jenkins Slaves:
On each slave instance, start the Jenkins agent by running a command similar to the following:

java -jar agent.jar -jnlpUrl http://your-master-instance-public-ip:8080/computer/slave-name/slave-agent.jnlp -secret your-secret

Replace your-master-instance-public-ip with the public IP of the Jenkins master, 
slave-name with the name of the node you created in step 5c, and your-secret with the secret token generated by Jenkins for that node.
